(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d423df6"],{"057f":function(t,e,s){var a=s("fc6a"),o=s("241c").f,i={}.toString,n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r=function(t){try{return o(t)}catch(e){return n.slice()}};t.exports.f=function(t){return n&&"[object Window]"==i.call(t)?r(t):o(a(t))}},"1be48":function(t,e,s){"use strict";var a=s("bb2f"),o=s.n(a);o.a},2356:function(t,e,s){},2532:function(t,e,s){"use strict";var a=s("23e7"),o=s("5a34"),i=s("1d80"),n=s("ab13");a({target:"String",proto:!0,forced:!n("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},"27d5":function(t,e,s){"use strict";var a=s("7b72"),o=s.n(a);o.a},"3a17":function(t,e,s){"use strict";var a=s("afc0"),o=s.n(a);o.a},"3ca3":function(t,e,s){"use strict";var a=s("6547").charAt,o=s("69f3"),i=s("7dd0"),n="String Iterator",r=o.set,c=o.getterFor(n);i(String,"String",(function(t){r(this,{type:n,string:String(t),index:0})}),(function(){var t,e=c(this),s=e.string,o=e.index;return o>=s.length?{value:void 0,done:!0}:(t=a(s,o),e.index+=t.length,{value:t,done:!1})}))},"45b8":function(t,e,s){},"46eb":function(t,e,s){},"498a":function(t,e,s){"use strict";var a=s("23e7"),o=s("58a8").trim,i=s("c8d2");a({target:"String",proto:!0,forced:i("trim")},{trim:function(){return o(this)}})},"4d63":function(t,e,s){var a=s("83ab"),o=s("da84"),i=s("94ca"),n=s("7156"),r=s("9bf2").f,c=s("241c").f,l=s("44e7"),d=s("ad6d"),u=s("9f7f"),h=s("6eeb"),f=s("d039"),p=s("69f3").set,_=s("2626"),b=s("b622"),m=b("match"),v=o.RegExp,g=v.prototype,w=/a/g,O=/a/g,x=new v(w)!==w,y=u.UNSUPPORTED_Y,C=a&&i("RegExp",!x||y||f((function(){return O[m]=!1,v(w)!=w||v(O)==O||"/a/i"!=v(w,"i")})));if(C){var k=function(t,e){var s,a=this instanceof k,o=l(t),i=void 0===e;if(!a&&o&&t.constructor===k&&i)return t;x?o&&!i&&(t=t.source):t instanceof k&&(i&&(e=d.call(t)),t=t.source),y&&(s=!!e&&e.indexOf("y")>-1,s&&(e=e.replace(/y/g,"")));var r=n(x?new v(t,e):v(t,e),a?this:g,k);return y&&s&&p(r,{sticky:s}),r},$=function(t){t in k||r(k,t,{configurable:!0,get:function(){return v[t]},set:function(e){v[t]=e}})},j=c(v),F=0;while(j.length>F)$(j[F++]);g.constructor=k,k.prototype=g,h(o,"RegExp",k)}_("RegExp")},"4df4":function(t,e,s){"use strict";var a=s("0366"),o=s("7b0b"),i=s("9bdd"),n=s("e95a"),r=s("50c4"),c=s("8418"),l=s("35a1");t.exports=function(t){var e,s,d,u,h,f,p=o(t),_="function"==typeof this?this:Array,b=arguments.length,m=b>1?arguments[1]:void 0,v=void 0!==m,g=l(p),w=0;if(v&&(m=a(m,b>2?arguments[2]:void 0,2)),void 0==g||_==Array&&n(g))for(e=r(p.length),s=new _(e);e>w;w++)f=v?m(p[w],w):p[w],c(s,w,f);else for(u=g.call(p),h=u.next,s=new _;!(d=h.call(u)).done;w++)f=v?i(u,m,[d.value,w],!0):d.value,c(s,w,f);return s.length=w,s}},"568f":function(t,e,s){"use strict";var a=s("7a02"),o=s.n(a);o.a},"5a34":function(t,e,s){var a=s("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5c8c":function(t,e,s){"use strict";var a=s("f88f"),o=s.n(a);o.a},"5fe9":function(t,e,s){"use strict";var a=s("b7d1"),o=s.n(a);o.a},"746f":function(t,e,s){var a=s("428f"),o=s("5135"),i=s("e538"),n=s("9bf2").f;t.exports=function(t){var e=a.Symbol||(a.Symbol={});o(e,t)||n(e,t,{value:i.f(t)})}},7507:function(t,e,s){"use strict";var a=s("8db0"),o=s.n(a);o.a},"77f8":function(t,e,s){},7982:function(t,e,s){"use strict";var a=s("46eb"),o=s.n(a);o.a},"7a02":function(t,e,s){},"7b72":function(t,e,s){},"80d3":function(t,e,s){"use strict";var a=s("d5eb"),o=s.n(a);o.a},"81d5":function(t,e,s){"use strict";var a=s("7b0b"),o=s("23cb"),i=s("50c4");t.exports=function(t){var e=a(this),s=i(e.length),n=arguments.length,r=o(n>1?arguments[1]:void 0,s),c=n>2?arguments[2]:void 0,l=void 0===c?s:o(c,s);while(l>r)e[r++]=t;return e}},"8db0":function(t,e,s){},a4d3:function(t,e,s){"use strict";var a=s("23e7"),o=s("da84"),i=s("d066"),n=s("c430"),r=s("83ab"),c=s("4930"),l=s("fdbf"),d=s("d039"),u=s("5135"),h=s("e8b5"),f=s("861d"),p=s("825a"),_=s("7b0b"),b=s("fc6a"),m=s("c04e"),v=s("5c6c"),g=s("7c73"),w=s("df75"),O=s("241c"),x=s("057f"),y=s("7418"),C=s("06cf"),k=s("9bf2"),$=s("d1e7"),j=s("9112"),F=s("6eeb"),S=s("5692"),E=s("f772"),T=s("d012"),L=s("90e3"),z=s("b622"),P=s("e538"),B=s("746f"),I=s("d44e"),N=s("69f3"),M=s("b727").forEach,D=E("hidden"),H="Symbol",A="prototype",R=z("toPrimitive"),q=N.set,V=N.getterFor(H),U=Object[A],W=o.Symbol,J=i("JSON","stringify"),Y=C.f,X=k.f,Q=x.f,G=$.f,K=S("symbols"),Z=S("op-symbols"),tt=S("string-to-symbol-registry"),et=S("symbol-to-string-registry"),st=S("wks"),at=o.QObject,ot=!at||!at[A]||!at[A].findChild,it=r&&d((function(){return 7!=g(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(t,e,s){var a=Y(U,e);a&&delete U[e],X(t,e,s),a&&t!==U&&X(U,e,a)}:X,nt=function(t,e){var s=K[t]=g(W[A]);return q(s,{type:H,tag:t,description:e}),r||(s.description=e),s},rt=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof W},ct=function(t,e,s){t===U&&ct(Z,e,s),p(t);var a=m(e,!0);return p(s),u(K,a)?(s.enumerable?(u(t,D)&&t[D][a]&&(t[D][a]=!1),s=g(s,{enumerable:v(0,!1)})):(u(t,D)||X(t,D,v(1,{})),t[D][a]=!0),it(t,a,s)):X(t,a,s)},lt=function(t,e){p(t);var s=b(e),a=w(s).concat(pt(s));return M(a,(function(e){r&&!ut.call(s,e)||ct(t,e,s[e])})),t},dt=function(t,e){return void 0===e?g(t):lt(g(t),e)},ut=function(t){var e=m(t,!0),s=G.call(this,e);return!(this===U&&u(K,e)&&!u(Z,e))&&(!(s||!u(this,e)||!u(K,e)||u(this,D)&&this[D][e])||s)},ht=function(t,e){var s=b(t),a=m(e,!0);if(s!==U||!u(K,a)||u(Z,a)){var o=Y(s,a);return!o||!u(K,a)||u(s,D)&&s[D][a]||(o.enumerable=!0),o}},ft=function(t){var e=Q(b(t)),s=[];return M(e,(function(t){u(K,t)||u(T,t)||s.push(t)})),s},pt=function(t){var e=t===U,s=Q(e?Z:b(t)),a=[];return M(s,(function(t){!u(K,t)||e&&!u(U,t)||a.push(K[t])})),a};if(c||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=L(t),s=function(t){this===U&&s.call(Z,t),u(this,D)&&u(this[D],e)&&(this[D][e]=!1),it(this,e,v(1,t))};return r&&ot&&it(U,e,{configurable:!0,set:s}),nt(e,t)},F(W[A],"toString",(function(){return V(this).tag})),F(W,"withoutSetter",(function(t){return nt(L(t),t)})),$.f=ut,k.f=ct,C.f=ht,O.f=x.f=ft,y.f=pt,P.f=function(t){return nt(z(t),t)},r&&(X(W[A],"description",{configurable:!0,get:function(){return V(this).description}}),n||F(U,"propertyIsEnumerable",ut,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:W}),M(w(st),(function(t){B(t)})),a({target:H,stat:!0,forced:!c},{for:function(t){var e=String(t);if(u(tt,e))return tt[e];var s=W(e);return tt[e]=s,et[s]=e,s},keyFor:function(t){if(!rt(t))throw TypeError(t+" is not a symbol");if(u(et,t))return et[t]},useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),a({target:"Object",stat:!0,forced:!c,sham:!r},{create:dt,defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:ht}),a({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ft,getOwnPropertySymbols:pt}),a({target:"Object",stat:!0,forced:d((function(){y.f(1)}))},{getOwnPropertySymbols:function(t){return y.f(_(t))}}),J){var _t=!c||d((function(){var t=W();return"[null]"!=J([t])||"{}"!=J({a:t})||"{}"!=J(Object(t))}));a({target:"JSON",stat:!0,forced:_t},{stringify:function(t,e,s){var a,o=[t],i=1;while(arguments.length>i)o.push(arguments[i++]);if(a=e,(f(e)||void 0!==t)&&!rt(t))return h(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!rt(e))return e}),o[1]=e,J.apply(null,o)}})}W[A][R]||j(W[A],R,W[A].valueOf),I(W,H),T[D]=!0},a630:function(t,e,s){var a=s("23e7"),o=s("4df4"),i=s("1c7e"),n=!i((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:n},{from:o})},ab13:function(t,e,s){var a=s("b622"),o=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(s){try{return e[o]=!1,"/./"[t](e)}catch(a){}}return!1}},ad72:function(t,e,s){"use strict";var a=s("2356"),o=s.n(a);o.a},afc0:function(t,e,s){},b0d4:function(t,e,s){"use strict";var a=s("45b8"),o=s.n(a);o.a},b7d1:function(t,e,s){},b85f:function(t,e,s){},ba83:function(t,e,s){"use strict";var a=s("77f8"),o=s.n(a);o.a},bb2f:function(t,e,s){},c8d2:function(t,e,s){var a=s("d039"),o=s("5899"),i="​᠎";t.exports=function(t){return a((function(){return!!o[t]()||i[t]()!=i||o[t].name!==t}))}},caad:function(t,e,s){"use strict";var a=s("23e7"),o=s("4d64").includes,i=s("44d2"),n=s("ae40"),r=n("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!r},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},cb29:function(t,e,s){var a=s("23e7"),o=s("81d5"),i=s("44d2");a({target:"Array",proto:!0},{fill:o}),i("fill")},d28b:function(t,e,s){var a=s("746f");a("iterator")},d5eb:function(t,e,s){},ddb0:function(t,e,s){var a=s("da84"),o=s("fdbc"),i=s("e260"),n=s("9112"),r=s("b622"),c=r("iterator"),l=r("toStringTag"),d=i.values;for(var u in o){var h=a[u],f=h&&h.prototype;if(f){if(f[c]!==d)try{n(f,c,d)}catch(_){f[c]=d}if(f[l]||n(f,l,u),o[u])for(var p in i)if(f[p]!==i[p])try{n(f,p,i[p])}catch(_){f[p]=i[p]}}}},e01a:function(t,e,s){"use strict";var a=s("23e7"),o=s("83ab"),i=s("da84"),n=s("5135"),r=s("861d"),c=s("9bf2").f,l=s("e893"),d=i.Symbol;if(o&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new d(t):void 0===t?d():d(t);return""===t&&(u[e]=!0),e};l(h,d);var f=h.prototype=d.prototype;f.constructor=h;var p=f.toString,_="Symbol(test)"==String(d("test")),b=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var t=r(this)?this.valueOf():this,e=p.call(t);if(n(u,t))return"";var s=_?e.slice(7,-1):e.replace(b,"$1");return""===s?void 0:s}}),a({global:!0,forced:!0},{Symbol:h})}},e12d:function(t,e,s){"use strict";var a=s("e696"),o=s.n(a);o.a},e538:function(t,e,s){var a=s("b622");e.f=a},e696:function(t,e,s){},ef40:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chat-content"},[s("lottoNavBar",{ref:"nav",attrs:{lotto_name:t.lotto_name,room_id:t.room_id}}),t.show_squint?s("div",[s("lottoChatSquint",{attrs:{lotto:this},on:{refresh:t.refresh}})],1):s("div",[s("lottoChatHeader",{staticClass:"lotto-header-wrap",attrs:{lotto:this}}),t.bet_new_one.id?s("van-count-down",{staticClass:"display-none",attrs:{time:1e3*t.bet_new_one.bet_count_down},on:{finish:function(e){return t.setNextCurrent()}}}):t._e(),s("winCode",{attrs:{lotto:this}}),!0===t.has_load?s("open-log",{attrs:{lotto:this}}):t._e()],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.show_open_dom,expression:"show_open_dom === true"}],attrs:{id:"lotto-win-table"}}),s("div",{staticClass:"button-content"},[s("div",{staticClass:"button-item"},[s("van-button",{attrs:{color:"#ff6a00",size:"small",type:"info"},on:{click:function(e){return t.betMethod(1)}}},[t._v("投注")])],1),s("van-action-sheet",{staticClass:"tra-bet",attrs:{title:"投注"},model:{value:t.betShow1,callback:function(e){t.betShow1=e},expression:"betShow1"}},[s("div",{staticClass:"content-1"},[s("van-tree-select",{attrs:{items:t.betItems,"main-active-index":t.active,height:""},on:{"update:mainActiveIndex":function(e){t.active=e},"update:main-active-index":function(e){t.active=e}},scopedSlots:t._u([{key:"content",fn:function(){return[1==t.active?s("div",{staticClass:"dxds"},t._l(t.getComboList,(function(e,a){return s("div",{key:a,class:void 0!=t.checked[e.place]?"item active":"item",on:{click:function(s){return t.singleBet(e.place)}}},[s("span",[t._v(t._s(e.name))]),s("span",[t._v(t._s(e.odds.substring(0,5)))])])})),0):t._e(),2==t.active?s("div",{staticClass:"dxds"},t._l(t.getNumberList,(function(e,a){return s("div",{key:a,class:void 0!=t.checked[e.place]?"item active":"item",on:{click:function(s){return t.singleBet(e.place)}}},[s("span",[t._v(t._s(e.name))]),s("span",[t._v(t._s(e.odds.substring(0,5)))])])})),0):t._e(),3==t.active?s("div",{staticClass:"dxds"},t._l(t.getSpecialList,(function(e,a){return s("div",{key:a,class:void 0!=t.checked[e.place]?"item active":"item",on:{click:function(s){return t.singleBet(e.place)}}},[s("span",[t._v(t._s(e.name))]),s("span",[t._v(t._s(e.odds.substring(0,5)))])])})),0):t._e(),0==t.active?s("div",{staticClass:"dxds"},t._l(t.getWalletList,(function(e,a){return s("div",{key:a,class:void 0!=t.checked[e.place]?"item active":"item",on:{click:function(s){return t.singleBet(e.place)}}},[s("span",[t._v(t._s(e.name))])])})),0):t._e()]},proxy:!0}])}),s("div",{staticClass:"chips"}),s("div",{staticClass:"button"},[s("van-field",{attrs:{type:"number"},model:{value:t.has_bet_str,callback:function(e){t.has_bet_str=e},expression:"has_bet_str"}}),s("van-button",{attrs:{size:"small",type:"info"},on:{click:t.betConfirmPre}},[t._v("投注")]),s("van-button",{attrs:{color:"#FFD700",size:"small"},on:{click:t.clearBet}},[t._v("重置")]),s("van-button",{staticClass:"ml-6",attrs:{size:"small",type:"danger"},on:{click:t.cancelFastBet}},[t._v("撤销")])],1)],1)]),s("div",{staticClass:"button-item-input"},[s("van-field",{attrs:{placeholder:"手动下注(支持:组合/特殊)",readonly:""},on:{focus:function(e){return t.betMethod(1)}},model:{value:t.betValue,callback:function(e){t.betValue=e},expression:"betValue"}})],1),s("div",{staticClass:"button-item"},[s("van-button",{staticClass:"fast-t",attrs:{color:"white",size:"small"},on:{click:t.typeBet}},[t._v("发送")])],1)],1),s("chat-window",{ref:"chat_window",attrs:{lotto:this}}),s("betConfirm",{ref:"bet_confirm"}),s("right-bar",{on:{squint:t.squint}}),s("scroll-notice")],1)},o=[],i=(s("4de4"),s("4160"),s("c975"),s("a15b"),s("fb6a"),s("b0c0"),s("b64b"),s("07ac"),s("4d63"),s("ac1f"),s("25f0"),s("5319"),s("1276"),s("159b"),s("e17f"),s("2241")),n=(s("9a83"),s("f564")),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"scroll-notice van-hairline--top van-hairline--bottom"},[s("van-notice-bar",{attrs:{speed:50,text:t.notice.title,background:"#ffffff",color:"#101010",scrollable:""}})],1)},c=[],l={computed:{notice:function(){return this.$store.state.config.notice.game}}},d=l,u=(s("5fe9"),s("2877")),h=Object(u["a"])(d,r,c,!1,null,"2c388361",null),f=h.exports,p=s("8fb3"),_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"lotto-header"},[s("count-down",{staticClass:"lotto-header-item flex-1",attrs:{lotto:t.lotto},on:{finish:function(e){return t.finishCountDown()}}}),s("div",{staticClass:"lotto-header-item balane font-12"},[s("span",[t._v("账户余额")]),s("span",[t._v(t._s(this.$store.state.user.wallet.balance))])])],1)},b=[],m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"has-pop"},[s("div",{staticClass:"title font-12"},[t.bet_current.id?[s("span",[t._v("第")]),s("strong",{staticClass:"color-orange"},[s("van-notice-bar",{staticClass:"issue",attrs:{text:t.bet_current.id,background:"#FFFFFF",scrollable:"",speed:"15"}})],1),s("span",[t._v("期开奖")])]:[t._v("暂无最新一期")]],2),!1===t.lotto.stop?s("van-count-down",{class:"red"===t.color?"count-down-content font-roman color-red":"count-down-content font-roman",attrs:{time:t.count_down,format:"mm:ss"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"date"},[t._v(t._s(t._f("pre_zero")(e.minutes)))]),s("span",[t._v(":")]),s("span",{staticClass:"date"},[t._v(t._s(t._f("pre_zero")(e.seconds)))])]}}],null,!1,142853760)}):s("span",{staticClass:"stop"},[t._v("封盘中")])],1)},v=[],g={props:{lotto:Object},data:function(){return{color:"white"}},methods:{},computed:{count_down:function(){if(null==this.bet_current.id)return 0;var t=this.lotto.newest_past,e=JSON.parse(JSON.stringify(t));return 1e3*(this.bet_current.bet_count_down-e+1)},bet_current:function(){return this.lotto.bet_current}},watch:{count_down:function(t,e){t<=11e3?this.color="red":(12e3==t&&this.lotto.clearTime(),this.color="white"),t<0&&t>-9e3&&(this.lotto.stop=!0)}}},w=g,O=(s("568f"),Object(u["a"])(w,m,v,!1,null,"60540526",null)),x=O.exports,y={components:{countDown:x},props:{lotto:{default:function(){return this.$parent},type:Object}},data:function(){return{}}},C=y,k=(s("7982"),Object(u["a"])(C,_,b,!1,null,"276881f7",null)),$=k.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"lotto-header"},[s("div",{staticClass:"lotto-header-item flex-1"},[s("count-down",{attrs:{lotto:t.lotto},on:{finish:function(e){return t.finishCountDown()}}}),10!=t.timeCountDown?s("span",[t._v("等待"+t._s(t.timeCountDown)+"秒后才能刷新")]):s("span",{staticClass:"action",on:{click:t.refresh}},[t._v("点击刷新")])],1),s("div",{staticClass:"lotto-header-item balance font-12"},[s("span",[t._v("第"+t._s(t.data.id)+"期开奖")]),s("div",{staticClass:"squint",attrs:{id:"top"}},[s("div",{staticClass:"award_box"},[t.showPrize?s("div",{staticClass:"award"},[s("div",{staticClass:"chat-item-bet--container"},[t.data.win_extend?s("div",{staticClass:"win-code-extend"},[s("span",{staticClass:"win-code-item color-white bg-blue",domProps:{innerHTML:t._s(t.data.win_extend.code_arr[0])}}),s("span",[t._v("+")]),s("span",{staticClass:"win-code-item color-white bg-blue",domProps:{innerHTML:t._s(t.data.win_extend.code_arr[1])}}),s("span",[t._v("+")]),s("span",{staticClass:"win-code-item color-white bg-blue",domProps:{innerHTML:t._s(t.data.win_extend.code_arr[2])}}),s("span",[t._v("=")]),s("span",{staticClass:"win-code-item color-white bg-red"},[t._v(t._s(t.data.win_extend.code_he))]),s("span",[t._v(t._s(t.data.win_extend.code_bos)+t._s(t.data.win_extend.code_sod))])]):s("div",{staticClass:"win-code-extend"},[t._v("开奖中")])])]):t._e(),s("div",{staticClass:"surface"}),s("canvas",{directives:[{name:"show",rawName:"v-show",value:!t.isScratch,expression:"!isScratch"}],staticClass:"canvas",attrs:{id:"c1"},on:{touchend:t.touchend,touchmove:t.touchmove,touchstart:t.touchstart}})])])])])},F=[],S=(s("cb29"),{components:{countDown:x},props:{lotto:{default:function(){return this.$parent},type:Object}},data:function(){return{c1:"",ctx:"",ismousedown:!1,fontem:"",isScratch:!1,showPrize:!1,data:{},loading:!1,timeCountDown:10,timer:null,page:{current:1},items:[],query:{source:"all",page:1}}},watch:{"lotto.open_last":function(){this.lotto.open_last[0].win_extend?this.data=this.lotto.open_last[0]:this.data=this.lotto.open_last[1]}},mounted:function(){this.fontem=parseInt(window.getComputedStyle(document.documentElement,null)["font-size"]),this.c1=document.getElementById("c1"),this.c1.width=this.c1.clientWidth+15,this.c1.height=this.c1.clientHeight,this.ctx=this.c1.getContext("2d"),this.initCanvas()},unmounted:function(){this.clearTimer()},methods:{startCountDown:function(){var t=this;this.timer=setInterval((function(){1===t.timeCountDown?(t.clearTimer(),t.timeCountDown=10):t.decrement()}),1e3)},decrement:function(){this.timeCountDown--},clearTimer:function(){clearInterval(this.timer),this.timer=null},initCanvas:function(){this.ctx.globalCompositeOperation="source-over",this.ctx.fillStyle="#e5e5e5",this.ctx.fillRect(0,0,this.c1.clientWidth,this.c1.clientHeight),this.ctx.fill(),this.ctx.font="Bold 24px Arial",this.ctx.textAlign="center",this.ctx.fillStyle="#a0a0a0",this.ctx.fillText("已有结果请刮开涂层",this.c1.width/2,55),this.ctx.globalCompositeOperation="destination-out"},resetCanvas:function(){this.ctx.globalCompositeOperation="source-over",this.ctx.fillStyle="#e5e5e5",this.ctx.fillRect(0,0,300,300),this.ctx.fill(),this.ctx.font="Bold 24px Arial",this.ctx.textAlign="center",this.ctx.fillStyle="#a0a0a0",this.ctx.fillText("已有结果请刮开涂层",this.c1.width/2,55),this.ctx.globalCompositeOperation="destination-out"},touchstart:function(t){t.preventDefault(),this.ismousedown=!0},touchend:function(t){sessionStorage.setItem("isScratch",!0),t.preventDefault();for(var e=this.ctx.getImageData(0,0,this.c1.width,this.c1.height),s=0,a=3;a<e.data.length;a+=4)0==e.data[a]&&s++;s>=e.data.length/8&&(this.isScratch=!0),this.ismousedown=!1},touchmove:function(t){if(this.showPrize=!0,t.preventDefault(),this.ismousedown){t.changedTouches&&(t=t.changedTouches[t.changedTouches.length-1]);var e=document.getElementById("top").offsetTop,s=20*this.c1.offsetLeft,a=6*this.c1.offsetTop+e,o=(t.clientX+document.body.scrollLeft||t.pageX)-s||0,i=(t.clientY+document.body.scrollTop-40||t.pageY)-a||0;this.ctx.beginPath(),this.ctx.arc(o,i,.5*this.fontem,0,2*Math.PI,!0),this.ctx.fill()}},refresh:function(){this.timeCountDown=10,this.c1=document.getElementById("c1"),this.isScratch=!this.isScratch,this.resetCanvas(),this.startCountDown(),this.$emit("refresh")}},created:function(){this.lotto.open_last[0].win_extend?this.data=this.lotto.open_last[0]:this.data=this.lotto.open_last[1]}}),E=S,T=(s("e12d"),Object(u["a"])(E,j,F,!1,null,"fd0e618e",null)),L=T.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"win-code",on:{click:t.showOpenLog}},[s("div",{staticClass:"win-code-content"},[s("div",{staticClass:"title font-12 mb-2"},[s("span",[t._v("第")]),t.last.short_id?s("b",{staticClass:"color-orange"},[t._v(t._s(t.last.id))]):s("b",{staticClass:"color-orange"},[t._v("0000000")]),s("span",[t._v("期")])]),s("van-count-down",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"lastCountDown",attrs:{time:1e4},on:{finish:t.finishCountDown}}),s("kenoHe",{ref:"table",attrs:{data:t.last,items:t.logs}})],1)])},P=[],B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.code?s("div",{staticClass:"win-code-content font-12"},[t.code.code_arr?[s("span",{staticClass:"win-code-item color-white bg-blue"},[t._v(t._s(t.code.code_arr[0]))]),s("span",[t._v("+")]),s("span",{staticClass:"win-code-item color-white bg-blue"},[t._v(t._s(t.code.code_arr[1]))]),s("span",[t._v("+")]),s("span",{staticClass:"win-code-item color-white bg-blue"},[t._v(t._s(t.code.code_arr[2]))]),s("span",[t._v("=")]),s("span",{staticClass:"win-code-item color-white bg-red"},[t._v(t._s(t._f("pre_zero")(t.code.code_he)))]),s("span",{staticStyle:{color:"black","font-size":"12px"}},[t._v(t._s(t.code.code_bos)+t._s(t.code.code_sod))]),s("van-icon",{attrs:{name:"play"}})]:t._e()],2):s("div",{staticClass:"win-code-content font-12"},[s("span",{staticClass:"win-code-item color-white bg-blue"},[t._v(t._s(t._f("pre_zero")(t.openning)))]),s("span",[t._v("+")]),s("span",{staticClass:"win-code-item color-white bg-blue"},[t._v(t._s(t._f("pre_zero")(t.openning)))]),s("span",[t._v("+")]),s("span",{staticClass:"win-code-item color-white bg-blue"},[t._v(t._s(t._f("pre_zero")(t.openning)))]),s("span",[t._v("=")]),s("span",{staticClass:"win-code-item color-white bg-red"},[t._v(t._s(t._f("pre_zero")(t.openning)))])])},I=[],N={props:{data:Object,items:Array},data:function(){return{openning:0,show_table:!1}},computed:{code:function(){return this.data.win_extend}},created:function(){var t=this;setInterval((function(){t.openning-=1,t.openning<0&&(t.openning=27)}),50)}},M=N,D=(s("ba83"),Object(u["a"])(M,B,I,!1,null,"7f9c5327",null)),H=D.exports,A={props:{lotto:Object},components:{kenoHe:H},computed:{last:function(){return this.lotto.open_last.length>0?this.lotto.open_last[0]:{}},logs:function(){return this.lotto.open_last},code:function(){return this.data.win_extend}},destroyed:function(){clearInterval(this.clearTimeSet)},watch:{last:function(t,e){t.open_code!==e.open_code&&e.id&&(this.lotto.clearTime(),this.lotto.getUnited()),null!=t.open_code&&(this.$store.state.lotto.stop_bet=!1,this.lotto.stop_bet=!1,this.lotto.clearTime())}},methods:{finishCountDown:function(){this.$refs.lastCountDown.reset(),null===this.last.win_extend&&this.lotto.getOpenLast()},showOpenLog:function(){this.lotto.show_open_dom=!0,this.lotto.show_open_log=!this.lotto.show_open_log}}},R=A,q=(s("80d3"),Object(u["a"])(R,z,P,!1,null,"23b10043",null)),V=q.exports,U=s("8989"),W=s("9e84"),J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"lotto-chat"},[t.items?s("div",{directives:[{name:"swipedown",rawName:"v-swipedown",value:function(e){return t.touch("toTop")},expression:"(e)=>touch('toTop')"},{name:"swipeup",rawName:"v-swipeup",value:function(e){return t.touch("toDwon")},expression:"(e)=>touch('toDwon')"}],staticClass:"lotto-chat-window",class:{anim:1==t.animate},attrs:{id:"lotto-chat-window"}},[t.unread>0?s("div",{staticClass:"unread-botton"},[s("van-button",{attrs:{hairline:"",plain:"",round:"",size:"small",type:"info"},on:{click:t.toBottom}},[t._v(t._s(t.unread)+"条未读消息")])],1):t._e(),s("chat-item-notice",[t._v("欢迎光临"+t._s(t.$store.state.config.web_title))]),t._l(t.items,(function(e,a){return[s("chat-item-bet",{attrs:{avatar:e.avatar,data:e,lotto:t.lotto,opposite:e.nickname===t.$store.state.user.info.nickname,room:t.lotto.room_id},on:{"bet-repeat":t.betRepeat}})]}))],2):t._e(),s("van-popup",{staticStyle:{height:"80%"},attrs:{position:"bottom"},model:{value:t.show_bet,callback:function(e){t.show_bet=e},expression:"show_bet"}},[s("bet-place",{attrs:{lotto:t.lotto}})],1)],1)},Y=[];s("99af"),s("caad"),s("2532"),s("498a");function X(t){if(Array.isArray(t))return t}s("a4d3"),s("e01a"),s("d28b"),s("a630"),s("d3b7"),s("3ca3"),s("ddb0");function Q(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}function K(t,e){if(t){if("string"===typeof t)return G(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?G(t,e):void 0}}function Z(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tt(t){return X(t)||Q(t)||K(t)||Z()}var et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chat-item-notice"},[s("div",{staticClass:"content"},[t._t("default")],2)])},st=[],at=(s("7507"),{}),ot=Object(u["a"])(at,et,st,!1,null,"24bbf23b",null),it=ot.exports,nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"clear-both chat-item-bet",class:t.position},[s("comm-avatar",{class:t.position,attrs:{content:t.data,font:void 0==t.data.user_id&&void 0==t.data.id_hash||1e4==t.data.user_id||1==t.data.wechat,src:t.avatar}}),1==t.data.cat?s("div",{staticClass:"chat-item-bet--container"},[s("div",{staticClass:"chat-item-bet--header font-15",class:t.data.user_id===t.$store.state.user.info.id||t.data.id_hash===t.$store.state.user.info.id_hash?"roverd":""},[s("span",{staticClass:"nickname",domProps:{innerHTML:t._s(t.data.nickname)}}),t.block_time?s("span",{staticClass:"date",class:t.data.user_id===t.$store.state.user.info.id||t.data.id_hash===t.$store.state.user.info.id_hash?"self":"",domProps:{innerHTML:t._s(t.data.created_at.substring(11))}}):t._e()]),s("span",{staticClass:"bg-white pl-10 detail font-15 color-black",class:t.data.user_id===t.$store.state.user.info.id||t.data.id_hash===t.$store.state.user.info.id_hash?"color-white":""},[t._v(t._s(t.details))])]):3==t.data.cat?s("div",{staticClass:"chat-item-bet--container"},[s("div",{staticClass:"chat-item-bet--header font-15 color-black"},[s("span",{staticClass:"nickname color-red weight-none",domProps:{innerHTML:t._s(t.data.nickname)}}),t.block_time?s("span",{staticClass:"date",class:t.data.user_id===t.$store.state.user.info.id||t.data.id_hash===t.$store.state.user.info.id_hash?"self":"",domProps:{innerHTML:t._s(t.data.created_at.substring(11))}}):t._e(),s("div",{staticClass:"mt-6 inline-block"},[s("span",{staticClass:"bg-white block pd-12"},[t._v(t._s(t.data.details))])])])]):2==t.data.cat?s("div",{staticClass:"chat-item-bet--container"},[s("div",{staticClass:"chat-item-bet--header font-15 color-black"},[s("span",{staticClass:"nickname color-red weight-none",domProps:{innerHTML:t._s(t.data.nickname)}}),t.block_time?s("span",{staticClass:"date",class:t.data.user_id===t.$store.state.user.info.id||t.data.id_hash===t.$store.state.user.info.id_hash?"self":"",domProps:{innerHTML:t._s(t.data.created_at.substring(11))}}):t._e()]),s("div",{staticClass:"head font-15 pt-10 pl-12 pr-12 color-black"},[s("span",[t._v("第"+t._s(t.data.lotto_id)+"期开奖结果")])]),s("div",{staticClass:"open-content pb-10 pl-12 pr-12 color-black"},[s("span",{staticClass:"win-code-item color-white bg-blue"},[t._v(t._s(t.data.details.open_code[0]))]),s("span",[t._v("+")]),s("span",{staticClass:"win-code-item color-white bg-blue"},[t._v(t._s(t.data.details.open_code[1]))]),s("span",[t._v("+")]),s("span",{staticClass:"win-code-item color-white bg-blue"},[t._v(t._s(t.data.details.open_code[2]))]),s("span",[t._v("=")]),s("span",{staticClass:"win-code-item color-white bg-red"},[t._v(t._s(t.data.details.code_he))]),s("span",{staticStyle:{color:"black","font-size":"12px",display:"initial","margin-left":"5px"}},[t._v(t._s(t.data.details.code_bos)+t._s(t.data.details.code_sod))])])]):6==t.data.cat?s("div",{staticClass:"chat-item-bet--container"},[s("div",{staticClass:"chat-item-bet--header font-15 color-black"},[s("span",{staticClass:"nickname color-red",domProps:{innerHTML:t._s(t.data.nickname)}}),t.block_time?s("span",{staticClass:"date",class:t.data.user_id===t.$store.state.user.info.id||t.data.id_hash===t.$store.state.user.info.id_hash?"self":"",domProps:{innerHTML:t._s(t.data.created_at.substring(11))}}):t._e()]),s("div",{staticClass:"bet-content font-15 pd-12 color-black"},[s("span",[t._v("第"+t._s(t.data.lotto_id)+"期投注账单")]),t._l(t.data.details,(function(e,a){return s("div",{on:{click:function(s){return t.showDetail(e.type,e.room,e.user_id,e.lotto_id)}}},[t._v(t._s(e.nickname)+"("+t._s(t._f("hidden_user")(e.user_id))+")")])}))],2)]):7==t.data.cat?s("div",{staticClass:"chat-item-bet--container"},[s("div",{staticClass:"chat-item-bet--header font-15 color-black"},[s("div",{staticClass:"chat-item-bet--header font-15",class:t.data.user_id===t.$store.state.user.info.id||t.data.id_hash===t.$store.state.user.info.id_hash?"roverd":""},[s("span",{staticClass:"nickname",domProps:{innerHTML:t._s(t.data.nickname)}}),t.block_time?s("span",{staticClass:"date",class:t.data.user_id===t.$store.state.user.info.id||t.data.id_hash===t.$store.state.user.info.id_hash?"self":"",domProps:{innerHTML:t._s(t.data.created_at.substring(11))}}):t._e()]),s("div",{staticClass:"mt-6 inline-block"},[s("span",{staticClass:"bg-red"},[t._v(t._s(t.data.details.content))])])])]):8==t.data.cat?s("div",{staticClass:"chat-item-bet--container"},[s("div",{staticClass:"chat-item-bet--header font-15 color-sub"},[s("span",{staticClass:"nickname color-red",domProps:{innerHTML:t._s(t.data.nickname)}}),t.block_time?s("span",{staticClass:"date",class:t.data.user_id===t.$store.state.user.info.id||t.data.id_hash===t.$store.state.user.info.id_hash?"self":"",domProps:{innerHTML:t._s(t.data.created_at.substring(11))}}):t._e()]),s("span",{staticClass:"bg-white font-15 stop color-black",domProps:{innerHTML:t._s(t.data.details.content)}})]):s("div",{staticClass:"chat-item-bet--container"},[s("div",{staticClass:"chat-item-bet--header font-15 color-sub"},[(t.data.cat,s("span",{staticClass:"nickname color-red",domProps:{innerHTML:t._s(t.data.nickname)}})),t.block_time?s("span",{staticClass:"date",class:t.data.user_id===t.$store.state.user.info.id||t.data.id_hash===t.$store.state.user.info.id_hash?"self":"",domProps:{innerHTML:t._s(t.data.created_at.substring(11))}}):t._e()]),s("span",{staticClass:"bg-white font-15 stop color-black",domProps:{innerHTML:t._s(t.data.details)}})]),t.player_details&&t.detail_show?s("van-popup",{model:{value:t.detail_show,callback:function(e){t.detail_show=e},expression:"detail_show"}},[s("div",{staticClass:"player_detail"},[s("div",{staticClass:"head"},[s("span",[t._v(t._s(t.player_details.nickname)+"("+t._s(t._f("hidden_user")(t.player_details.user_id))+")下注详情")]),s("span",[t._v(t._s(t.player_details.total))])]),t._l(t.player_details.details,(function(e,a){return s("div",{key:a,staticClass:"content"},[s("span",[t._v(t._s(e.name))]),s("span",[t._v(t._s(e.amount))])])}))],2)]):t._e()],1)},rt=[],ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.font?s("van-image",{staticClass:"chat-common-avatar",attrs:{src:t.src,heigth:"38",radius:"38"}}):s("div",{staticClass:"chat-common-avatar",class:t._f("sub_last")(t.content.user_id)},[s("span",[t._v(t._s(t._f("cut_name")(t.content.nickname)))])])},lt=[],dt={props:{src:"",font:!1,content:{type:Object,default:{}}}},ut=dt,ht=(s("5c8c"),Object(u["a"])(ut,ct,lt,!1,null,"d30ae5f8",null)),ft=ht.exports,pt={components:{commAvatar:ft},props:{data:{},opposite:!1,avatar:"",room:0,show:"",lotto:{}},data:function(){return{more:!1,detail_show:!1,player_details:{}}},computed:{position:function(){if(!0===this.opposite)return"right"},details:function(){var t=this,e="";return this.data.details.forEach((function(s,a){t.isNumber(s.name)?e+=" "+s.name+"-"+parseInt(s.amount)+" ":e+=s.name+""+parseInt(s.amount)})),e},block_time:function(){var t=this.$store.state.user;return void 0!=t&&t.option.block_time}},methods:{betRepeat:function(){this.$emit("bet-repeat",this.data)},isNumber:function(t){var e=/^\d+(\.\d+)?$/,s=/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/;return!(!e.test(t)&&!s.test(t))},itemClass:function(t){if(t>=4&&!1===this.more)return"display-none"},showMore:function(){this.more=!0},showDetail:function(t,e,s,a){var o=this,i="/lotto/"+this.$route.params.name+"/show-item",n={};n.type=t,n.room=e,n.user_id=s,n.lotto_id=a,this.$get(i,n).then((function(t){o.detail_show=!0,o.player_details=t.data}))}}},_t=pt,bt=(s("ff16"),s("1be48"),s("ad72"),Object(u["a"])(_t,nt,rt,!1,null,"1da1ce27",null)),mt=bt.exports,vt={components:{chatItemNotice:it,chatItemBet:mt},props:{lotto:Object},data:function(){return{message:"",show_bet:!1,isLoading:!1,scroll:!0,animate:!1,unread:0}},computed:{config:function(){return this.$store.state.config.lotto_tools},has_tool:function(){var t=this,e=[];return this.lotto.current_type.tools.forEach((function(s){var a=t.config[s].action;e.push.apply(e,a)})),e},items:{get:function(){var t=this.$store.state.lotto[this.lotto.lotto_name];return t[this.lotto.playing]},set:function(t){return t}}},created:function(){this.scrollBottom()},watch:{items:function(t,e){1==this.scroll&&0==this.unread?this.scrollBottom():this.unread++}},methods:{touch:function(t){var e=document.getElementById("lotto-chat-window"),s=e.scrollHeight-e.scrollTop;s>1e3?this.scroll=!1:s<1e3&&(this.scroll=!0,this.unread=0)},toBottom:function(){this.scroll=!0,this.unread=0,this.scrollBottom()},scrollBottom:function(){this.animate=!0,this.$nextTick((function(){var t=document.getElementById("lotto-chat-window");t.scrollTo({top:t.scrollHeight,behavior:"smooth"})}))},betRepeat:function(t){var e=this;this.lotto.clearBet(),t.details.forEach((function(t){e.lotto.checked[t.place]=parseFloat(t.amount)})),this.lotto.betConfirmPre()},betPrefix:function(t){var e=this,s=this.lotto.playing,a=[],o=Object.keys(this.lotto.place);return t.forEach((function(t){t=e.$options.filters.pre_zero(t);var i=s+"_"+t;o.includes(i)&&a.push(i)})),a},onMessage:function(){var t=this.message.trim(),e=t.trim().split(/\s+/),s=[];if(/.*[\u4e00-\u9fa5]+.*$/.test(e[0])&&this.has_tool.forEach((function(t){t.title===e[0]&&(s=t.place)})),/^[0-9,]*$/.test(e[0])&&(s=e[0].trim().split(",")),/^[0-9，]*$/.test(e[0])&&(s=e[0].trim().split("，")),0===s.length)return!1;var a=this.betPrefix(s);if(0===a.length)return!1;this.lotto.toolBet(a,parseFloat(e[1])),this.lotto.betConfirmPre(),this.$refs.message.blur(),this.message=""},onRefresh:function(){var t=this,e="/lotto/"+this.$route.params.name+"/fresh-chat",s={};if(this.scroll=!1,0==this.$store.state.lotto[this.$route.params.name][this.lotto.playing].length)return Object(n["a"])("已拉到底！");s.id=this.$store.state.lotto[this.$route.params.name][this.lotto.playing][0].id,s.room=this.$route.params.room_id,s.type=this.$route.params.name,this.$get(e,s).then((function(e){if(200!==e.code)return!1;if(0==e.data.items.length)return Object(n["a"])("已拉到底！");var s,a,o=[];s=t.$store.state.lotto[t.$route.params.name][t.lotto.playing].reverse(),tt(s),o=s,a=t.$store.state.lotto[t.$route.params.name][t.lotto.playing].concat(e.data.items),tt(a),o=a,t.$store.state.lotto[t.$route.params.name][t.lotto.playing]=o.reverse()})),this.isLoading=!1}}},gt=vt,wt=(s("b0d4"),Object(u["a"])(gt,J,Y,!1,null,"64f92d21",null)),Ot=wt.exports,xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],on:{click:t.squint}},[s("van-image",{attrs:{src:"https://ooo28-public.oss-accelerate.aliyuncs.com/yl28/close-eye.png"}}),s("span",{staticClass:"font-12"},[t._v("眯牌")])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],on:{click:t.showTrend}},[s("van-image",{attrs:{src:"https://ooo28-public.oss-accelerate.aliyuncs.com/yl28/icon_zs.png"}}),s("span",{staticClass:"font-12"},[t._v("走势")])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],on:{click:t.showRule}},[s("van-image",{attrs:{src:"https://ooo28-public.oss-accelerate.aliyuncs.com/yl28/icon_gz.png"}}),s("span",{staticClass:"font-12"},[t._v("规则")])],1),s("div",{staticClass:"service font-12",on:{click:function(e){return t.$router.push("/service")}}},[t._v("客服")]),s("div",{staticClass:"recharge font-12",on:{click:function(e){return t.$router.push("/wallet/recharge")}}},[t._v("充值")]),s("div",{staticClass:"withdraw font-12",on:{click:function(e){return t.$router.push("/wallet/withdraw")}}},[t._v("提现")])])},yt=[],Ct={data:function(){return{show:!0}},methods:{showRule:function(){this.$parent.$refs.nav.$refs.rule.show=!this.$parent.$refs.nav.$refs.rule.show},showTrend:function(){this.$router.push({name:"lottoTrend",params:{name:this.$route.params.name}})},squint:function(){this.$emit("squint")}}},kt=Ct,$t=(s("3a17"),Object(u["a"])(kt,xt,yt,!1,null,"30de1b14",null)),jt=$t.exports,Ft={name:"chatLottoPage",components:{lottoNavBar:p["a"],lottoChatHeader:$,winCode:V,openLog:U["a"],betConfirm:W["a"],chatWindow:Ot,rightBar:jt,lottoChatSquint:L,scrollNotice:f},data:function(){return{stop:!1,stop_bet:!0,currentMode:1,currentTrendMode:1,lotto_name:"",chat_open_log:!0,room_id:0,show_open_log:!1,show_open_dom:!1,has_load:!1,pre_amount:"",close_bet:{current:null,last:null,visible:!1},newest_past:0,float_odds:{},amount:"",config:{},checked:{},fast_checked:"",bet_current:{id:null},bet_newest:{},bet_new_one:{id:null},open_last:[],was_bet:{},playing:"",loading:!1,chips_rate:1,chips_list:[{name:"50",value:50,is_choose:!1},{name:"100",value:100,is_choose:!0},{name:"200",value:200,is_choose:!1},{name:"500",value:500,is_choose:!1},{name:"1000",value:1e3,is_choose:!1},{name:"梭",value:null,is_choose:!1}],place_extend:{},current_tab:"open_log",user_odds:{},trend_open_last:[],bos_line:0,sod_line:0,current_chip:0,bet_total_count:0,bet_total:0,bet_list:[],betValue:"",betShow1:!1,betShow2:!1,active:0,betItems:[{text:"查回"},{text:"大小"},{text:"特码"},{text:"形态"}],fast_bet_arr:[],trend_show:!1,lotto_history:[],has_bet_str:"",show_squint:!1}},created:function(){var t=this;void 0==this.$store.state.config.lotto_items[this.$route.params.name]&&this.$router.push("/"),!1===this.$store.state.config.play_types["room"+this.$route.params.room_id].is_open&&this.$router.push("/"),this.$route.params.room_id>8&&this.$router.push("/"),this.lotto_name=this.$route.params.name,this.room_id=parseInt(this.$route.params.room_id),this.playing="room"+this.room_id,setInterval((function(){t.newest_past+=1}),1e3)},watch:{stop:function(t){},room_id:function(t,e){t!==e&&(this.getUnited(!0,!0),this.checked={})},bet_current:function(t,e){null!=t.id&&t.id!==e.id&&(this.stop=!1)}},computed:{getComboList:function(){var t="room"+this.room_id,e=Object.values(this.$store.state.config.play_types[t].place).filter((function(t){return 1==t.position}));return e},getNumberList:function(){var t="room"+this.room_id,e=Object.values(this.$store.state.config.play_types[t].place).filter((function(t){return 2==t.position}));return e},getSpecialList:function(){var t="room"+this.room_id,e=Object.values(this.$store.state.config.play_types[t].place).filter((function(t){return 3==t.position}));return e},getWalletList:function(){var t="room"+this.room_id,e=Object.values(this.$store.state.config.play_types[t].place).filter((function(t){return 4==t.position}));return e}},methods:{getUnited:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];1==e&&(this.loading=!0),this.bet_new_one={id:null};var a="/lotto/"+this.$route.params.name+"/united",o={};o.room="room"+this.room_id,this.$get(a,o).then((function(e){if(t.newest_past=0,t.config=e.data.config,t.loading=!1,t.bet_newest=e.data.bet_newest,t.open_last=e.data.open_last,s&&(t.playing="room"+t.room_id,t.$store.state.lotto[t.$route.params.name]["room"+t.room_id]=e.data.lotto_history.filter((function(e){return e.room=="room"+t.room_id}))),t.was_bet=e.data.was_bet,t.place_extend=e.data.place_extend,t.float_odds=e.data.float_odds,t.user_odds=e.data.user_odds,Object.values(e.data.bet_newest).length>0&&(t.bet_new_one=Object.values(e.data.bet_newest)[0]),0===Object.values(e.data.bet_newest).length);else if(!0===t.has_load&&e.data.bet_newest.hasOwnProperty(t.bet_current.id)){var a=parseInt(t.bet_current.id);t.bet_current=e.data.bet_newest[a]}else t.bet_current=Object.values(e.data.bet_newest)[0],Object.values(e.data.bet_newest).length>0&&(t.bet_new_one=Object.values(e.data.bet_newest)[0]);t.has_load=!0}))},setNextCurrent:function(){var t=this;this.$store.state.lotto.stop_bet=!0,this.stop_bet=!0,setTimeout((function(){var e=t.bet_new_one.id;if(t.close_bet.last=e,e=parseInt(e)+1+"",t.close_bet.current=e,t.bet_new_one.id===t.bet_current.id){if(!t.bet_newest.hasOwnProperty(e))return t.getUnited(1);t.bet_current=t.bet_newest[e],t.close_bet.visible=!0}t.getUnited(),t.stop=!1}),1e4)},clearTime:function(){clearInterval(this.clearTimeSet)},squint:function(){this.show_squint=!this.show_squint},setNewest:function(){this.bet_current=Object.values(res.data.bet_newest)[0]},refresh:function(){this.getUnited()},getOpenLast:function(){var t=this,e="/lotto/"+this.$route.params.name+"/open-last";this.$get(e).then((function(e){if(200!==e.code)return!1;t.open_last=e.data.items}))},betMethod:function(t){this.checked={},1==t?this.betShow1=!0:this.betShow2=!0},singleBet:function(t){if(0==this.current_chip&&(this.current_chip=parseInt(this.chips_list.filter((function(t){return!0===t.is_choose}))[0]["value"])),this.$forceUpdate(),this.current_chip=parseInt(this.current_chip),0==this.current_chip)return!1;var e=this.$route.params.room_id;-1!=t.indexOf("_check")||-1!=t.indexOf("_return")?this.checked={}:(void 0!=this.checked["room"+e+"_check"]&&delete this.checked["room"+e+"_check"],void 0!=this.checked["room"+e+"_return"]&&delete this.checked["room"+e+"_return"]),void 0!==this.checked[t]?delete this.checked[t]:this.checked[t]=this.current_chip},chooseChip:function(t,e){var s=this;null==e&&(e=parseFloat(this.$store.state.user.wallet.balance)),!1===this.chips_list[t].is_choose?(this.chips_list[t].is_choose=!0,this.chips_list.forEach((function(e,a){t!=a&&(s.chips_list[a].is_choose=!1)})),this.current_chip=e):(this.chips_list[t].is_choose=!1,this.current_chip=0);var a=Object.keys(this.checked);if(0!=a){for(var o in this.checked)this.checked[o]=this.current_chip;this.has_bet_str="",this.$store.state.config.play_types["room"+this.$route.params.room_id].place.forEach((function(t,e){a.forEach((function(e,a){if(e==t.place){var o={};o.name=t.name,s.has_bet_str+=o.name+","}}))})),this.has_bet_str=this.has_bet_str.slice(0,this.has_bet_str.length-1)+":"+this.current_chip}},clearBet:function(){this.checked={},this.bet_list=[],this.has_bet_str=""},isMoney:function(t){var e=/((^[1-9]\d*)|^0)(\.\d{0,3}){0,1}$/,s=new RegExp(e);return!!s.test(t)},betConfirmPre:function(){var t=this;if(!this.bet_current.id)return Object(n["a"])("当前暂无最新一期 请稍后再试");var e=this.isMoney(this.has_bet_str);if(!e)return Object(n["a"])("金额格式不合法");var s=Object.keys(this.checked),a=(Object.values(this.checked),0),o=0,i=0,r=0,c=0,l=0,d=0,u=0,h=0,f=0,p=0,_=0,b=0,m=0,v=0,g=0;if(s.forEach((function(e){var s=t.has_bet_str;if(null===s||s<=0)return!1;s>0&&(o+=1),a+=parseFloat(s),-1==e.indexOf("big")&&-1==e.indexOf("sml")&&-1==e.indexOf("sig")&&-1==e.indexOf("dob")||(i+=parseFloat(s)),-1==e.indexOf("bdo")&&-1==e.indexOf("bsg")&&-1==e.indexOf("sdo")&&-1==e.indexOf("ssg")||(r+=parseFloat(s),c+=1),-1==e.indexOf("xsm")&&-1==e.indexOf("xbg")||(l+=parseFloat(s)),-1==e.indexOf("00")&&-1==e.indexOf("27")||(d+=parseFloat(s),g++),-1==e.indexOf("01")&&-1==e.indexOf("26")||(u+=parseFloat(s),g++),-1==e.indexOf("02")&&-1==e.indexOf("25")||(h+=parseFloat(s),g++),-1!=e.indexOf("duizi")&&(p+=parseFloat(s)),-1!=e.indexOf("sunzi")&&(_+=parseFloat(s)),-1!=e.indexOf("baozi")&&(b+=parseFloat(s)),-1==e.indexOf("long")&&-1==e.indexOf("hu")&&-1==e.indexOf("bao")||(m+=parseFloat(s)),-1!=e.indexOf("13")&&(v+=1),-1!=e.indexOf("14")&&(v+=1);for(var n=3;n<=24;n++)parseFloat(e.split("_")[1])==n&&(f+=parseFloat(s),g++)})),0==o)return Object(n["a"])("请选择投注内容");if(g>4)return Object(n["a"])("单期最多下注4个数字");if(c>=2&&v>0)return Object(n["a"])("单期不能同时下注组合和13、14");if(c>3)return Object(n["a"])("单期组合不能超过3个");var w="room"+this.room_id,O=this.$store.state.config.play_types[w]["bet_limit"];if(parseFloat(a)>parseFloat(O.total))return Object(n["a"])("最高投注"+O.total+"元");if(parseFloat(i)>parseFloat(O.dxds))return Object(n["a"])("大小单双最高投注"+O.dxds+"元");if(parseFloat(r)>parseFloat(O.combo))return Object(n["a"])("组合最高投注"+O.combo+"元");if(parseFloat(l)>parseFloat(O.jdjx))return Object(n["a"])("极值最高投注"+O.jdjx+"元");if(parseFloat(d)>parseFloat(O.z_27))return Object(n["a"])("00/27最高投注"+O.z_27+"元");if(parseFloat(u)>parseFloat(O.o_26))return Object(n["a"])("01/26最高投注"+O.o_26+"元");if(parseFloat(h)>parseFloat(O.t_25))return Object(n["a"])("02/25最高投注"+O.t_25+"元");if(parseFloat(f)>parseFloat(O.o_num))return Object(n["a"])("其他数字最高投注"+O.o_num+"元");if(parseFloat(p)>parseFloat(O.duizi))return Object(n["a"])("对子最高投注"+O.duizi+"元");if(parseFloat(_)>parseFloat(O.sunzi))return Object(n["a"])("顺子最高投注"+O.sunzi+"元");if(parseFloat(b)>parseFloat(O.baozi))return Object(n["a"])("豹子最高投注"+O.baozi+"元");if(parseFloat(m)>parseFloat(O.lhb))return Object(n["a"])("龙虎豹最高投注"+O.lhb+"元");this.getComboList.forEach((function(e,a){s.forEach((function(s,a){if(s==e.place){var o={};o.name=e.name,o.amount=t.has_bet_str,t.bet_list.push(o)}}))})),this.getNumberList.forEach((function(e,a){s.forEach((function(s,a){if(s==e.place){var o={};o.name=e.name,o.amount=t.has_bet_str,t.bet_list.push(o)}}))})),this.getSpecialList.forEach((function(e,a){s.forEach((function(s,a){if(s==e.place){var o={};o.name=e.name,o.amount=t.has_bet_str,t.bet_list.push(o)}}))})),this.getWalletList.forEach((function(e,a){s.forEach((function(s,a){if(s==e.place){var o={};o.name=e.name,o.amount=t.has_bet_str,t.bet_list.push(o)}}))}));var x=this;Object.keys(this.checked).forEach((function(t){x.checked[t]=x.has_bet_str})),this.bet_total_count=o,this.bet_total=a,this.$refs.bet_confirm.visible=!0,this.$refs.bet_confirm.overlay=!0},betConfirmfinal:function(){var t=this;this.$toast.loading({message:null,className:"bg-none",loadingType:"spinner",duration:0,getContainer:"#bet-confirm"});var e="/lotto/"+this.$route.params.name+"/bet-basic",s={id:this.bet_current.id,checked:this.checked,total:this.bet_total,play_type:"room"+this.room_id};this.$post(e,s,!1,!1).then((function(e){if(t.$refs.bet_confirm.overlay=!1,t.$toast.clear(),200===e.code)t.was_bet=e.data.was_bet,t.float_odds=e.data.float_odds,t.clearBet(),t.clearFastBet(),t.betValue="",t.$refs.bet_confirm.overlay=!1,t.checked={},t.$refs.bet_confirm.visible=!1,Object(n["a"])({type:"success",message:e.message}),t.betShow1=!1;else{t.bet_list=[],console.log("失败");t.$dialog({title:"ERROR",message:e.message,className:"warning",overlay:!1,lockScroll:!1})}}))},scrollLeft:function(){var t=document.getElementById("number-content");t.scrollLeft-=t.clientWidth},scrollRight:function(){var t=document.getElementById("number-content");t.scrollLeft+=t.clientWidth},fastChooseChip:function(t){this.fast_checked+=t},cutFastBet:function(){var t=this.fast_checked.split(" ");t.length<2?(this.checked={},this.fast_checked="",this.fast_bet_arr=[]):(t.pop(),this.fast_checked=t.join(" "),this.fast_bet_arr.pop())},clearFastBet:function(){this.checked={},this.fast_checked="",this.fast_bet_arr=[]},fastNumberBet:function(t,e){this.fast_checked+=e+"数字-",this.fast_bet_arr.push(t)},fastBet:function(t,e){this.fast_checked+=e+"-",this.fast_bet_arr.push(t)},addFastSpace:function(){this.fast_checked+=" "},fastPreConfirm:function(){var t=this;if(""==this.fast_checked)return Object(n["a"])("请选择下注类型！");var e=this.fast_checked.split(" ");if(this.fast_bet_arr.length!=e.length)return Object(n["a"])("下注格式不正确,请重新选择");for(var s=0;s<e.length;s++){var a=e[s].split("-");if(NaN==parseInt(a))return Object(n["a"])("下注格式不正确,请重新选择");this.checked[this.fast_bet_arr[s]]=a[1]}if(!this.bet_current.id)return Object(n["a"])("当前暂无最新一期 请稍后再试");var o=0;for(var i in this.checked)-1!=i.indexOf("bsg")&&o++,-1!=i.indexOf("bdo")&&o++,-1!=i.indexOf("sdo")&&o++,-1!=i.indexOf("ssg")&&o++;if(o>3)return Object(n["a"])("最多只能下注2个组合");var r=Object.keys(this.checked),c=Object.values(this.checked),l=0,d=0,u=0,h=0,f=0,p=0,_=0,b=0,m=0,v=0,g=0,w=0,O=0,x=0;if(r.forEach((function(e){var s=t.checked[e];if(null===s||s<=0)return!1;s>0&&(d+=1),l+=parseFloat(s),-1==e.indexOf("big")&&-1==e.indexOf("sml")&&-1==e.indexOf("sig")&&-1==e.indexOf("dob")||(u+=parseFloat(s)),-1==e.indexOf("bdo")&&-1==e.indexOf("bsg")&&-1==e.indexOf("sdo")&&-1==e.indexOf("ssg")||(h+=parseFloat(s)),-1==e.indexOf("xsm")&&-1==e.indexOf("xbg")||(f+=parseFloat(s)),-1==e.indexOf("00")&&-1==e.indexOf("27")||(p+=parseFloat(s),x++),-1==e.indexOf("01")&&-1==e.indexOf("26")||(_+=parseFloat(s),x++),-1==e.indexOf("02")&&-1==e.indexOf("25")||(b+=parseFloat(s),x++),-1!=e.indexOf("duizi")&&(v+=parseFloat(s)),-1!=e.indexOf("sunzi")&&(g+=parseFloat(s)),-1!=e.indexOf("baozi")&&(w+=parseFloat(s)),-1==e.indexOf("long")&&-1==e.indexOf("hu")&&-1==e.indexOf("bao")||(O+=parseFloat(s));for(var a=3;a<=24;a++)parseFloat(e.split("_")[1])==a&&(m+=parseFloat(s),x++)})),0==d)return Object(n["a"])("请选择投注内容");if(x>4)return Object(n["a"])("单句最多下4个数字");var y="room"+this.room_id,C=this.$store.state.config.play_types[y]["bet_limit"];return parseFloat(l)>parseFloat(C.total)?Object(n["a"])("最高投注"+C.total+"元"):parseFloat(u)>parseFloat(C.dxds)?Object(n["a"])("大小单双最高投注"+C.dxds+"元"):parseFloat(h)>parseFloat(C.combo)?Object(n["a"])("组合最高投注"+C.combo+"元"):parseFloat(f)>parseFloat(C.jdjx)?Object(n["a"])("极值最高投注"+C.jdjx+"元"):parseFloat(p)>parseFloat(C.z_27)?Object(n["a"])("00/27最高投注"+C.z_27+"元"):parseFloat(_)>parseFloat(C.o_26)?Object(n["a"])("01/26最高投注"+C.o_26+"元"):parseFloat(b)>parseFloat(C.t_25)?Object(n["a"])("02/25最高投注"+C.t_25+"元"):parseFloat(m)>parseFloat(C.o_num)?Object(n["a"])("其他数字最高投注"+C.o_num+"元"):parseFloat(v)>parseFloat(C.duizi)?Object(n["a"])("对子最高投注"+C.duizi+"元"):parseFloat(g)>parseFloat(C.sunzi)?Object(n["a"])("顺子最高投注"+C.sunzi+"元"):parseFloat(w)>parseFloat(C.baozi)?Object(n["a"])("豹子最高投注"+C.baozi+"元"):parseFloat(O)>parseFloat(C.lhb)?Object(n["a"])("龙虎豹最高投注"+C.lhb+"元"):(this.getComboList.forEach((function(e,s){r.forEach((function(s,a){if(s==e.place){var o={};o.name=e.name,o.amount=c[a],t.bet_list.push(o)}}))})),this.getNumberList.forEach((function(e,s){r.forEach((function(s,a){if(s==e.place){var o={};o.name=e.name,o.amount=c[a],t.bet_list.push(o)}}))})),this.getSpecialList.forEach((function(e,s){r.forEach((function(s,a){if(s==e.place){var o={};o.name=e.name,o.amount=c[a],t.bet_list.push(o)}}))})),this.getWalletList.forEach((function(e,s){r.forEach((function(s,a){if(s==e.place){var o={};o.name=e.name,o.amount=c[a],t.bet_list.push(o)}}))})),this.bet_total_count=d,this.bet_total=l,this.$refs.bet_confirm.visible=!0,void(this.$refs.bet_confirm.overlay=!0))},cancelFastBet:function(){var t=this;this.checked["room"+this.room_id+"_cancel"]=0,i["a"].confirm({title:"是否取消投注",message:"点击确认取消本期所有投注"}).then((function(){t.$refs.bet_confirm.overlay=!0,t.betConfirmfinal()})).catch((function(){delete t.checked["room"+t.room_id+"_cancel"]}))},typeBet:function(){var t=this;if(""!=this.betValue){var e=this.betValue.split(" "),s={"大":"big","小":"small","单":"sig","双":"dob","大双":"bdo","大单":"bsg","小双":"sdo","小单":"ssg","极大":"xbg","极小":"xsm","龙":"long","虎":"hu","豹":"bao","豹子":"baozi","顺子":"sunzi","对子":"duizi"};if(-1==this.betValue.indexOf("取消")||""==this.betValue.replace("取消","")){if(-1!=this.betValue.indexOf("取消")&&""==this.betValue.replace("取消",""))return this.checked["room"+this.room_id+"_cancel"]=0,void i["a"].confirm({title:"是否取消投注",message:"点击确认取消本期所有投注"}).then((function(){t.$refs.bet_confirm.overlay=!0,t.betConfirmfinal()})).catch((function(){}));for(var a=0;a<e.length;a++){var o=e[a].replace(/[^0-9]/gi,"");if(""==o)return void Object(n["a"])("格式不正确,请重新输入\n(每注以空格隔开， 例:大88 单:888)");var r=e[a].replace(/[^\u4e00-\u9fa5]/gi,"");if(""==r)return void Object(n["a"])("格式不正确,请重新输入\n(每注以空格隔开， 例:大88 单:888)");var c=Object.keys(s),l=c.indexOf(r);if(-1==l)return void Object(n["a"])("下注类型有误，请重新输入");var d=Object.values(s),u=d[l];u="room"+this.room_id+"_"+u,this.checked[u]=o}if(!0===this.$store.state.user.info.agent.status)return Object(n["a"])("您为代理用户 不能参与投注");if(!this.bet_current.id)return Object(n["a"])("当前暂无最新一期 请稍后再试");var h=0;if(7==this.room_id||8==this.room_id)for(var f in this.checked)-1!=f.indexOf("bsg")&&h++,-1!=f.indexOf("bdo")&&h++,-1!=f.indexOf("sdo")&&h++,-1!=f.indexOf("ssg")&&h++;if(h>3)return Object(n["a"])("最多只能下注3个组合");var p=Object.keys(this.checked),_=Object.values(this.checked),b=0,m=0,v=0,g=0,w=0;if(p.forEach((function(e){var s=t.checked[e];if(null===s||s<=0)return!1;s>0&&(m+=1),b+=parseFloat(s),-1==e.indexOf("big")&&-1==e.indexOf("sml")&&-1==e.indexOf("sig")&&-1==e.indexOf("dob")||(v+=parseFloat(s)),-1==e.indexOf("bdo")&&-1==e.indexOf("bsg")&&-1==e.indexOf("sdo")&&-1==e.indexOf("ssg")||(g+=parseFloat(s)),-1==e.indexOf("xsm")&&-1==e.indexOf("xbg")||(w+=parseFloat(s))})),0==m)return Object(n["a"])("请选择投注内容");if(parseFloat(b)<10)return Object(n["a"])("单次下注最低10元 请重新投注");if(v>1e5)return Object(n["a"])("大小单双最高下注10万元 请重新投注");if(g>3e4)return Object(n["a"])("组合最高下注3万元 请重新投注");if(w>1e4)return Object(n["a"])("极值最高下注1万元 请重新投注");if(parseFloat(b)>3e5)return Object(n["a"])("单次下注最高300000元 请重新投注");this.getComboList.forEach((function(e,s){p.forEach((function(s,a){if(s==e.place){var o={};o.name=e.name,o.amount=_[a],t.bet_list.push(o)}}))})),this.getNumberList.forEach((function(e,s){p.forEach((function(s,a){if(s==e.place){var o={};o.name=e.name,o.amount=_[a],t.bet_list.push(o)}}))})),this.getSpecialList.forEach((function(e,s){p.forEach((function(s,a){if(s==e.place){var o={};o.name=e.name,o.amount=_[a],t.bet_list.push(o)}}))})),this.bet_total_count=m,this.bet_total=b,this.$refs.bet_confirm.visible=!0,this.$refs.bet_confirm.overlay=!0}else Object(n["a"])("格式不正确,请输入“取消”")}else Object(n["a"])("请输入投注内容！")}},beforeDestroy:function(){clearInterval(this.clearTimeSet)}},St=Ft,Et=(s("27d5"),Object(u["a"])(St,a,o,!1,null,"ee3d0dd2",null));e["default"]=Et.exports},f88f:function(t,e,s){},ff16:function(t,e,s){"use strict";var a=s("b85f"),o=s.n(a);o.a}}]);