(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7679fc95"],{3206:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"base-wrap pt-40"},[o("formHeader",{staticClass:"mb-40",attrs:{title:"注册用户"}}),o("van-field",{staticClass:"mb-20 round",attrs:{border:!1,label:"注册手机",placeholder:"请输入注册手机号",size:"large"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}}),o("van-field",{staticClass:"mb-20 round",attrs:{border:!1,label:"您的昵称",placeholder:"请输入昵称",size:"large"},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}}),o("van-field",{staticClass:"mb-20 round",attrs:{border:!1,label:"验证码",placeholder:"请输入验证码",size:"large"},model:{value:e.form.ver_code,callback:function(t){e.$set(e.form,"ver_code",t)},expression:"form.ver_code"}},[e.ver_code>0?o("div",{attrs:{slot:"button"},slot:"button"},[e._v(e._s(e.ver_code))]):o("div",{attrs:{slot:"button"},on:{click:e.getCode},slot:"button"},[e._v("获取验证码")])]),o("van-field",{staticClass:"mb-20 round",attrs:{border:!1,label:"登录密码",placeholder:"请输入登录密码",size:"large",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),o("van-field",{staticClass:"mb-40 round",attrs:{border:!1,label:"推荐码(选填)",placeholder:"请输入推荐码或用户ID",size:"large"},model:{value:e.form.ref_id,callback:function(t){e.$set(e.form,"ref_id",t)},expression:"form.ref_id"}}),o("van-button",{staticClass:"mb-40 register-btn",attrs:{block:"",type:"info"},on:{click:e.onRegitser}},[e._v("注册")]),o("div",{staticClass:"on-login",on:{click:e.login}},[e._v("已有账号,现在登录")])],1)},a=[],s=(o("ac1f"),o("5319"),o("335d")),i={data:function(){return{form:{method:"login",nickname:""},ver_code:0}},created:function(){this.$cookie.get("__mh_ref_id__")&&0!=this.$cookie.get("__mh_ref_id__")&&"false"!=this.$cookie.get("__mh_ref_id__")&&(this.form.ref_id=this.$cookie.get("__mh_ref_id__"))},components:{formHeader:s["a"]},methods:{login:function(){this.$router.push({path:"/auth/login"})},getCode:function(){var e=this;this.$post("/sms/register",this.form).then((function(t){if(200===t.code){e.ver_code=60;setInterval((function(){e.ver_code--}),1e3)}}))},getNickname:function(){var e=this;this.$get("/auth/nickname").then((function(t){e.form.nickname=t.data.nickname}))},onRegitser:function(){var e=this;this.$post("/auth/register",this.form).then((function(t){200===t.code&&(e.$store.dispatch("setToken",t.data.access_token),e.$store.dispatch("getUserInfo"),e.$router.replace({name:"home"}))}))}}},n=i,c=(o("551d"),o("2877")),l=Object(c["a"])(n,r,a,!1,null,"20c2dc2c",null);t["default"]=l.exports},"335d":function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"form-header"},[o("h1",{staticClass:"form-header-i"},[o("van-icon",{attrs:{name:e.icon,size:"24"},on:{click:e.toBack}})],1),o("div",{staticClass:"form-header-title"},[e._v(e._s(e.title))])])},a=[],s={props:{icon:{default:"play-circle",type:String},title:{default:"",type:String}},methods:{toBack:function(){this.$router.back(-1)}}},i=s,n=(o("537f"),o("2877")),c=Object(n["a"])(i,r,a,!1,null,"b81c8d9c",null);t["a"]=c.exports},"3c8a":function(e,t,o){},"537f":function(e,t,o){"use strict";var r=o("f9c9"),a=o.n(r);a.a},"551d":function(e,t,o){"use strict";var r=o("3c8a"),a=o.n(r);a.a},f9c9:function(e,t,o){}}]);