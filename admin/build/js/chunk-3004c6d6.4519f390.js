(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3004c6d6"],{"0de4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("create-data",{ref:"create",staticClass:"mb-20"}),a("Card",{attrs:{bordered:e.bordered,"dis-hover":""}},[a("table-header-new",{attrs:{config:e.config,title:"福利开支"},on:{"update:config":function(t){e.config=t},"on-search":e.onSearch}},[a("Button",{attrs:{size:"small",type:"primary"},on:{click:e.onReset}},[e._v("初始")]),a("Button",{staticClass:"ml-6",attrs:{size:"small",type:"primary"},on:{click:e.onSearch}},[e._v("刷新")])],1),a("table-data",{ref:"table",attrs:{"table-columns":e.tableColumns},on:{"on-search":e.onSearch}})],1)],1)},r=[],s=(a("a9e3"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Card",{attrs:{"dis-hover":""}},[a("table-header-new",{staticClass:"mb-14",attrs:{title:"添加开支"}}),a("lett-loading",{attrs:{visible:e.loading},on:{click:function(t){e.loading=!1}}}),a("div",{staticClass:"display-flex mb-14"},[a("Input",{staticClass:"pr-10",attrs:{placeholder:"请输入用户ID"},on:{"on-blur":e.checkUser},model:{value:e.form.user_id,callback:function(t){e.$set(e.form,"user_id",t)},expression:"form.user_id"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("用户ID")])]),a("Input",{attrs:{disabled:""},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("用户昵称")])])],1),a("div",{staticClass:"display-flex mb-10"},[a("Input",{staticClass:"flex-1",attrs:{placeholder:"请输入开支金额"},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("金额")])]),a("Input",{staticClass:"flex-1",attrs:{placeholder:"支出备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("备注")])]),a("Button",{attrs:{type:"primary"},on:{click:e.onConfirm}},[e._v("确认")])],1)],1)}),i=[],o={data:function(){return{loading:!1,amount:null,form:{nickname:"",user_id:"",amount:"",remark:"",admin_id:this.$store.state.user.userId}}},methods:{onConfirm:function(){var e=this;return this.form.amount=this.amount,this.form.user_id?this.form.nickname?this.form.amount?(this.loading=!0,void this.$post("data-stats/expenseCreate",this.form).then((function(t){if(200!==t.code)return e.loading=!1;e.form.amount=null,e.amount=null,e.form.user_id="",e.form.nickname="",e.$parent.$refs.table.getIndex(),e.loading=t.message}))):this.$Message.warning("请输入开支金额"):this.$Message.warning("请校验对方昵称"):this.$Message.warning("请输入用户ID")},checkUser:function(){var e=this;if(!this.form.user_id)return this.form.nickname=null;this.$post("recharge/check-user",this.form).then((function(t){if(200!==t.code)return!1;e.form.nickname=t.data.nickname}))}}},l=o,c=(a("2a04"),a("2877")),u=Object(c["a"])(l,s,i,!1,null,"5037b4b2",null),d=u.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("lett-loading",{attrs:{visible:e.loading},on:{click:e.getIndex}}),a("Table",{attrs:{columns:e.columns,data:e.items,height:e._f("table_height")(300),border:""},scopedSlots:e._u([{key:"user",fn:function(t){var n=t.row;return n.user?a("table-user",{attrs:{data:n.user}}):e._e()}},{key:"child",fn:function(t){var n=t.row;return n.extend.child?a("table-user",{attrs:{data:n.child_info}}):e._e()}},{key:"orign_money",fn:function(t){var n=t.row;return a("span",{},[e._v(e._s(n.extend.balance))])}},{key:"created_at",fn:function(t){var n=t.row;return a("span",{staticClass:"custom-tag"},[e._v(e._s(e.$moment(n.created_at).format("MM-DD HH:mm:ss")))])}}],null,!0)}),a("lett-page",{attrs:{page:e.page},on:{"on-change":e.onPage}})],1)},f=[],p=a("adf6"),h={mixins:[p["a"]],data:function(){return{dataware:{index:{api:"/data-stats/expense-log"}},columns:[{title:"流水ID",key:"id",align:"left",width:100},{title:"用户id",slot:"user",width:150},{title:"福利金额",key:"amount",align:"right",className:"color-black",width:100},{title:"备注",key:"remarks",className:"color-black"},{title:"时间",slot:"created_at",align:"right",width:140}]}}},g=h,b=Object(c["a"])(g,m,f,!1,null,"f21a36bc",null),k=b.exports,_=a("c86f"),v={mixins:[_["a"]],name:"userRebateLog",components:{tableData:k,createData:d},props:{tableColumns:{type:Array},assign:{default:null,type:[String,Number]}},data:function(){return{config:{select:{field:"user_id",value:""},value:{field:"all",page:1},fields:[{value:"user_id",label:"用户ID"}]}}},computed:{bordered:function(){return!this.assign}}},w=v,x=Object(c["a"])(w,n,r,!1,null,"3c614fea",null);t["default"]=x.exports},"2a04":function(e,t,a){"use strict";var n=a("4ac8"),r=a.n(n);r.a},"4ac8":function(e,t,a){}}]);