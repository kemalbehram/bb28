(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e5c3843"],{"03cf":function(t,e,r){},"13d5":function(t,e,r){"use strict";var a=r("23e7"),n=r("d58f").left,i=r("a640"),l=r("ae40"),o=i("reduce"),s=l("reduce",{1:0});a({target:"Array",proto:!0,forced:!o||!s},{reduce:function(t){return n(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},4326:function(t,e,r){"use strict";var a=r("03cf"),n=r.n(a);n.a},"4a0c":function(t,e,r){},6424:function(t,e,r){"use strict";var a=r("4a0c"),n=r.n(a);n.a},b21c:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Card",{attrs:{"dis-hover":""}},[r("table-header-new",{attrs:{title:"用户报表"}},[r("DatePicker",{staticClass:"date-picker",attrs:{options:t.$store.state.date_picker,format:"yyyy-MM-dd",placeholder:"请选择日期",placement:"bottom-end",type:"daterange"},on:{"on-change":t.getData}}),r("Button",{staticClass:"refresh",on:{click:function(e){return t.getData(t.date)}}},[t._v("刷新")]),r("div",{staticClass:"header-intro"},[t._v("默认查询所有数据，本页面仅统计有数据用户，未产生数据用户将不做展示。")])],1),r("table-data",{ref:"table"})],1)},n=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"relative"},[r("lett-loading",{attrs:{visible:t.loading},on:{click:function(e){return t.getData(t.$parent.$parent.date)}}}),r("Table",{staticClass:"mb-10",attrs:{columns:t.columns,data:t.items,height:t._f("table_height")(300),"summary-method":t.handleSummary,border:"","no-data-text":"暂无相关数据 请尝试更换搜索条件","show-summary":""},scopedSlots:t._u([{key:"user",fn:function(e){var a=e.row;return a?r("table-user",{attrs:{data:a.user}}):t._e()}},{key:"requested_at",fn:function(e){var a=e.row;return r("span",{},[t._v(t._s(t.$moment(a.requested_at).format("MM-DD HH:mm")))])}},{key:"system_profit",fn:function(e){var a=e.row;return r("span",{class:t.profitClass(a.system_profit)},[t._v(t._s(t._f("currency")(a.system_profit)))])}},{key:"wallet_total",fn:function(e){var a=e.row;return r("span",{},[t._v(t._s(t._f("currency")(a.wallet_total)))])}},{key:"wallet_diff",fn:function(e){var a=e.row;return r("span",{class:t.diffClass(a.wallet_diff)},[t._v(t._s(t._f("currency")(a.wallet_diff)))])}}],null,!0)})],1)},l=[],o=(r("a623"),r("4160"),r("d81d"),r("13d5"),r("a9e3"),r("acd8"),r("159b"),{data:function(){var t=this;return{loading:!1,items:[],columns:[{title:"用户",slot:"user",align:"left",fixed:"left",width:160},{title:"平台盈亏",slot:"system_profit",key:"system_profit",align:"right",fixed:"left",width:100,sortable:!0},{title:"基本信息",align:"center",children:[{title:"最后活跃",slot:"requested_at",key:"requested_at",align:"center",width:100,sortable:!0},{title:"资金",slot:"wallet_total",key:"wallet_total",align:"right",width:100,sortable:!0}]},{title:"游戏投注",align:"center",children:[{title:"投注盈亏",key:"bet_profit",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"投注总额",key:"bet_total",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"返奖总额",key:"bet_bonus",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"有效投注",key:"bet_total_effective",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}}]},{title:"其它综合",align:"center",children:[{title:"充值",key:"wallet_recharge",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"提现",key:"wallet_withdraw",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"余额宝利息",key:"wallet_fund_interest",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"任务奖励",key:"user_award_total",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}}]},{title:"转账统计",align:"center",children:[{title:"转账转入",key:"transfer_in",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"转账转出",key:"transfer_out",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"利润-基本",key:"transfer_award_agent_base",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"利润-下线",key:"transfer_award_agent_refer",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"用户奖励",key:"transfer_award_user_total",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"转账手续费",key:"transfer_fee",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}}]},{title:"红包统计",align:"center",children:[{title:"红包领取",key:"red_bag_log",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"红包发送",key:"red_bag_send",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"红包退回",key:"red_bag_returned",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"红包被领取",key:"red_bag_received",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}}]}]}},created:function(){this.getData()},methods:{getData:function(t){var e=this;this.loading=!0;var r="/data-stats/user-table-stats";this.$get(r,t).then((function(t){if(200!==t.code)return!1;e.loading=!1,e.items=t.data.items}))},amountClass:function(t){if(0==parseFloat(t))return"color-desc"},profitClass:function(t){return parseFloat(t)>0?"color-red":0==parseFloat(t)?"color-desc":void 0},diffClass:function(t){return 0!=Math.abs(parseFloat(t))?"color-red":"color-desc"},handleSummary:function(t){var e=this,r=t.columns,a=t.data,n={};return r.forEach((function(t,r){var i=t.key;if(0!==r){var l=a.map((function(t){return Number(t[i])}));if(l.every((function(t){return isNaN(t)})))n[i]={key:i,value:"0.000"};else{var o=l.reduce((function(t,e){var r=Number(e);return isNaN(r)?t:t+e}),0);n[i]={key:i,value:e.$options.filters.currency(o)}}}else{var s="合计"+e.items.length+"人";n[i]={key:i,value:s}}})),n}}}),s=o,u=(r("6424"),r("2877")),c=Object(u["a"])(s,i,l,!1,null,"74a9dda5",null),d=c.exports,f={name:"userTableStats",components:{tableData:d},data:function(){return{date:null}},methods:{getData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.date=t;var e=[];return t&&(e={date_start:t[0],date_end:t[1]}),this.$refs.table.getData(e)}}},h=f,w=(r("4326"),Object(u["a"])(h,a,n,!1,null,"e45badae",null));e["default"]=w.exports},d58f:function(t,e,r){var a=r("1c0b"),n=r("7b0b"),i=r("44ad"),l=r("50c4"),o=function(t){return function(e,r,o,s){a(r);var u=n(e),c=i(u),d=l(u.length),f=t?d-1:0,h=t?-1:1;if(o<2)while(1){if(f in c){s=c[f],f+=h;break}if(f+=h,t?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:d>f;f+=h)f in c&&(s=r(s,c[f],f,u));return s}};t.exports={left:o(!1),right:o(!0)}}}]);