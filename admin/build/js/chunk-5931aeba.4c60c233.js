(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5931aeba"],{"13d5":function(t,e,r){"use strict";var a=r("23e7"),n=r("d58f").left,i=r("a640"),o=r("ae40"),s=i("reduce"),l=o("reduce",{1:0});a({target:"Array",proto:!0,forced:!s||!l},{reduce:function(t){return n(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"28f5":function(t,e,r){},6665:function(t,e,r){},a52d:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Card",{attrs:{"dis-hover":""}},[r("table-header",{attrs:{title:"综合报表"}},[r("div",{staticClass:"header-action"},[r("DatePicker",{staticClass:"date-picker",attrs:{format:"yyyy-MM-dd",placeholder:"请选择日期",placement:"bottom-end",type:"daterange"},on:{"on-change":t.getIndex}}),r("Button",{staticClass:"ml-10",on:{click:t.getIndex}},[t._v("刷新")])],1),r("div",{staticClass:"header-intro"},[t._v("为了考虑服务器性能，请尽量减少查询天数间隔")])]),r("table-data",{ref:"table"})],1)},n=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"relative"},[r("lett-loading",{attrs:{visible:t.loading},on:{click:t.getIndex}}),r("Table",{staticClass:"mb-10",attrs:{border:!0,columns:t.columns,data:t.items,height:t._f("table_height")(300),"summary-method":t.handleSummary,border:"","show-summary":""},scopedSlots:t._u([{key:"system_profit",fn:function(e){var a=e.row;return r("span",{class:t.profitClass(a.system_profit)},[t._v(t._s(t._f("currency")(a.system_profit)))])}}])})],1)},o=[],s=(r("a623"),r("4160"),r("d81d"),r("13d5"),r("a9e3"),r("acd8"),r("159b"),{data:function(){var t=this;return{loading:!1,page:{},items:[],query:{},date:[],columns:[{title:"日期",key:"date",align:"center",width:120,fixed:"left",sortable:!0},{title:"平台总盈亏",slot:"system_profit",key:"system_profit",align:"right",fixed:"left",width:120,sortable:!0},{title:"游戏投注",align:"center",children:[{title:"投注盈亏",key:"bet_profit",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"投注总额",key:"bet_total",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"返奖总额",key:"bet_bonus",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"有效投注",key:"bet_total_effective",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}}]},{title:"其它综合",align:"center",children:[{title:"充值",key:"wallet_recharge",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"提现",key:"wallet_withdraw",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}},{title:"任务奖励",key:"user_award_total",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}}]},{title:"转账统计",align:"center",children:[{title:"代理转用户",key:"transfer_agent_to_user",align:"right",width:100,render:function(e,r){var a=r.column.key;return e("div",{class:t.amountClass(r.row[a])},r.row[a])}}]}]}},created:function(){this.getIndex([])},methods:{getIndex:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];console.log(e);var r={};2==e.length&&(this.date=e),2==this.date.length&&(r.date_start=this.date[0],r.date_end=this.date[1]),this.$get("/data-stats/table-data",r).then((function(e){t.loading=!1,t.items=e.data.items}))},amountClass:function(t){if(0==parseFloat(t))return"color-desc"},profitClass:function(t){var e=parseFloat(t);return 0==e?"color-desc":e>0?"color-red":void 0},handleSummary:function(t){var e=this,r=t.columns,a=t.data,n={};return r.forEach((function(t,r){var i=t.key;if(0!==r){var o=a.map((function(t){return Number(t[i])}));if(o.every((function(t){return isNaN(t)})))n[i]={key:i,value:"0.000"};else{var s=o.reduce((function(t,e){var r=Number(e);return isNaN(r)?t:t+e}),0);n[i]={key:i,value:e.$options.filters.currency(s)}}}else{var l="合计"+e.items.length+"天";n[i]={key:i,value:l}}})),n}}}),l=s,c=(r("ba04"),r("2877")),d=Object(c["a"])(l,i,o,!1,null,"6bb5bff2",null),u=d.exports,f={name:"dataStatsTable",components:{tableData:u},data:function(){return{date:[]}},methods:{getIndex:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];console.log(t),this.$refs.table.getIndex(t)}}},h=f,m=(r("a5e4"),Object(c["a"])(h,a,n,!1,null,"fef57ae0",null));e["default"]=m.exports},a5e4:function(t,e,r){"use strict";var a=r("28f5"),n=r.n(a);n.a},ba04:function(t,e,r){"use strict";var a=r("6665"),n=r.n(a);n.a},d58f:function(t,e,r){var a=r("1c0b"),n=r("7b0b"),i=r("44ad"),o=r("50c4"),s=function(t){return function(e,r,s,l){a(r);var c=n(e),d=i(c),u=o(c.length),f=t?u-1:0,h=t?-1:1;if(s<2)while(1){if(f in d){l=d[f],f+=h;break}if(f+=h,t?f<0:u<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:u>f;f+=h)f in d&&(l=r(l,d[f],f,c));return l}};t.exports={left:s(!1),right:s(!0)}}}]);